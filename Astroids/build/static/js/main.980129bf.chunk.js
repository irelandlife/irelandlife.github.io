(this["webpackJsonpr3f-game"]=this["webpackJsonpr3f-game"]||[]).push([[0],{23:function(e,t,n){e.exports=n.p+"static/media/explosion.5c5ce697.mp3"},27:function(e,t,n){e.exports=n.p+"static/media/earth.12d16034.jpg"},28:function(e,t,n){e.exports=n.p+"static/media/moon.8e294414.png"},35:function(e,t,n){e.exports=n.p+"static/media/laser.a97c8e67.mp3"},36:function(e,t,n){e.exports=n.p+"static/media/engine.e896d081.mp3"},37:function(e,t,n){e.exports=n.p+"static/media/engine2.bdb08091.mp3"},38:function(e,t,n){e.exports=n.p+"static/media/bg.a93d8e1a.mp3"},39:function(e,t,n){e.exports=n.p+"static/media/warp.5699f1c4.mp3"},40:function(e,t,n){e.exports=n.p+"static/media/click.8d516cce.mp3"},49:function(e,t,n){e.exports=n(61)},61:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"zap",(function(){return V})),n.d(a,"engine",(function(){return $})),n.d(a,"engine2",(function(){return q})),n.d(a,"bg",(function(){return W})),n.d(a,"warp",(function(){return H})),n.d(a,"click",(function(){return X})),n.d(a,"explosion",(function(){return J})),n.d(a,"mp3",(function(){return U}));var r=n(0),o=n.n(r),i=n(26),c=n.n(i),s=n(1),l=n(2);function m(e){var t=e.count,n=void 0===t?2e3:t,a=Object(r.useMemo)((function(){for(var e=[],t=0;t<n;t++){var a=4e3,r=2*Math.PI*Math.random(),o=Math.acos(2*Math.random()-1),i=a*Math.cos(r)*Math.sin(o)+(4e3*Math.random()-2e3),c=a*Math.sin(r)*Math.sin(o)+(4e3*Math.random()-2e3),s=a*Math.cos(o)+(2e3*Math.random()-1e3);e.push(i),e.push(c),e.push(s)}return new Float32Array(e)}),[n]);return o.a.createElement("points",null,o.a.createElement("bufferGeometry",{attach:"geometry"},o.a.createElement("bufferAttribute",{attachObject:["attributes","position"],count:a.length/3,array:a,itemSize:3})),o.a.createElement("pointsMaterial",{attach:"material",size:15,sizeAttenuation:!0,color:"white",fog:!1}))}var u=n(3),f=n(27),d=n.n(f),h=n(28),p=n.n(h);function g(){var e=Object(r.useRef)(),t=Object(l.e)(s.TextureLoader,[d.a,p.a]),n=Object(u.a)(t,2),a=n[0],i=n[1];return o.a.createElement("group",{ref:e,scale:[100,100,100],position:[-500,-500,1e3]},o.a.createElement("mesh",null,o.a.createElement("sphereBufferGeometry",{attach:"geometry",args:[5,32,32]}),o.a.createElement("meshStandardMaterial",{attach:"material",map:a,roughness:1,fog:!1})),o.a.createElement("mesh",{position:[5,-5,-5]},o.a.createElement("sphereBufferGeometry",{attach:"geometry",args:[.75,32,32]}),o.a.createElement("meshStandardMaterial",{attach:"material",roughness:1,map:i,fog:!1})),o.a.createElement("pointLight",{position:[-5,-5,-5],distance:1e3,intensity:6}),o.a.createElement("mesh",{position:[-30,-10,-60]},o.a.createElement("sphereBufferGeometry",{attach:"geometry",args:[4,32,32]}),o.a.createElement("meshBasicMaterial",{attach:"material",color:"#FFFF99",fog:!1}),o.a.createElement("pointLight",{distance:6100,intensity:50,color:"white"})))}var b=n(45),E=n(14),y=n(33),v=n(46),x=n(47);function w(){var e=Object(r.useRef)(),t=Object(l.f)(),n=t.scene,a=t.gl,i=t.size,c=t.camera;return Object(r.useEffect)((function(){e.current.setSize(i.width,i.height)}),[i]),Object(l.d)((function(){return e.current.render()}),2),o.a.createElement("effectComposer",{ref:e,args:[a]},o.a.createElement("renderPass",{attachArray:"passes",scene:n,camera:c}),o.a.createElement("unrealBloomPass",{attachArray:"passes",args:[void 0,1.8,1,0]}))}Object(l.c)({EffectComposer:b.a,ShaderPass:E.a,RenderPass:y.a,UnrealBloomPass:v.a,FilmPass:x.a});var M=n(5),O=n(48),j=n(34),S=n(41),k=n(35),R=n.n(k),_=n(36),B=n.n(_),P=n(37),G=n.n(P),L=n(38),A=n.n(L),T=n(39),D=n.n(T),z=n(40),C=n.n(z),I=n(23),F=n.n(I),U={explosion:F.a},V=new Audio(R.a),$=new Audio(B.a),q=new Audio(G.a),W=new Audio(A.a),H=new Audio(D.a),X=new Audio(C.a),J=new Audio(F.a),K=1,N=Object(S.a)((function(e,t){var n=new j.a.GrannyKnot,a=new s.TubeBufferGeometry(n,250,.2,10,!0),r=void 0,o=void 0,i=new s.Box3;return{sound:!1,camera:void 0,points:0,health:100,lasers:[],explosions:[],rocks:ee(100,a,150,8,(function(){return 1+2.5*Math.random()})),enemies:ee(10,a,20,15,1),mutation:{t:0,position:new s.Vector3,startTime:Date.now(),track:a,scale:15,fov:70,hits:!1,rings:te(30,a),particles:ee(1500,a,100,1,(function(){return.5+.8*Math.random()})),looptime:4e4,binormal:new s.Vector3,normal:new s.Vector3,clock:new s.Clock(!1),mouse:new s.Vector2(-250,50),dummy:new s.Object3D,ray:new s.Ray,box:new s.Box3},actions:{init(n){var r=t(),i=r.mutation,c=r.actions;e({camera:n}),i.clock.start(),c.toggleSound(t().sound),Object(l.b)((function(){var n=t(),r=n.rocks,s=n.enemies,l=Date.now(),m=i.t=(l-i.startTime)%i.looptime/i.looptime;i.position=a.parameters.path.getPointAt(m),i.position.multiplyScalar(i.scale);var u=!1;m>.3&&m<.4?u||(u=!0,ne(H)):m>.5&&(u=!1);var f=r.filter(c.test),d=s.filter(c.test),h=f.concat(d),p=i.hits;i.hits=h.length,0===p&&i.hits&&ne(X);var g=t().lasers;if(i.hits&&g.length&&l-g[g.length-1]<100){var b=h.map((function(e){return Object(O.a)({time:Date.now()},e)}));e((function(e){return{explosions:[].concat(Object(M.a)(e.explosions),Object(M.a)(b))}})),clearTimeout(o),o=setTimeout((function(){return e((function(e){return{explosions:e.explosions.filter((function(e){var t=e.time;return Date.now()-t<=1e3}))}}))}),1e3),e((function(e){return{points:e.points+100*f.length+200*d.length,rocks:e.rocks.filter((function(e){return!f.find((function(t){return t.guid===e.guid}))})),enemies:e.enemies.filter((function(e){return!d.find((function(t){return t.guid===e.guid}))}))}}))}}))},shoot(){e((function(e){return{lasers:[].concat(Object(M.a)(e.lasers),[Date.now()])}})),clearTimeout(r),r=setTimeout((function(){return e((function(e){return{lasers:e.lasers.filter((function(e){return Date.now()-e<=1e3}))}}))}),1e3),ne(V,.5)},initializePS4ControllerSupport(){function n(){e((function(e){return{lasers:[].concat(Object(M.a)(e.lasers),[Date.now()])}})),clearTimeout(r),r=setTimeout((function(){return e((function(e){return{lasers:e.lasers.filter((function(e){return Date.now()-e<=1e3}))}}))}),1e3),ne(V,.5)}var a="ongamepadconnected"in window,o={},i=0,c=0,s=1,l={0:"LStickLR",1:"LStickUD",2:"RStickLR",3:"RStickUD"},m={0:0,1:0,2:0,3:0,4:0,5:0},u={0:"X",1:"Circle",2:"Square",3:"Triangle",4:"L1",5:"R1",6:"L2",7:"R2",8:"SHARE",9:"OPTIONS",10:"L3",11:"R3",12:"Up",13:"Down",14:"Left",15:"Right",16:"PS",17:"DragPad"},f={X:!1,Circle:!1,Square:!1,Triangle:!1,L1:!1,R1:!1,L2:!1,R2:!1,SHARE:!1,OPTIONS:!1,L3:!1,R3:!1,Up:!1,Down:!1,Left:!1,Right:!1,PS:!1,DragPad:!1};function d(e){o[e.index]=e,setInterval(h,50)}function h(){a||function(){for(var e=navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():[],t=0;t<e.length;t++)e[t]&&(e[t].index in o?o[e[t].index]=e[t]:d(e[t]))}();var e,r=0;for(e in o){var l=o[e];for(r=0;r<l.buttons.length;r++){var h=l.buttons[r].pressed;!0===h&&"R2"===u[r]&&!0===f.R2&&n(),!0===h&&!1===f[u[r]]?(f[u[r]]=!0,"R1"===u[r]&&n()):!1===h&&!0===f[u[r]]&&(f[u[r]]=!1)}for(r=0;r<l.axes.length;r++)Math.abs(m[r]-l.axes[r])>=.01&&(m[r]=l.axes[r].toFixed(2),Math.abs(m[r])<=.07&&(m[r]=0),"LStickLR"===p[r]?i=m[r]*window.innerWidth*.5:"LStickUD"===p[r]&&(c=m[r]*window.innerHeight*s*.5),t().mutation.mouse.set(i,c))}}window.addEventListener("gamepadconnected",(function(e){d(e.gamepad)})),window.addEventListener("gamepaddisconnected",(function(e){var t;t=e.gamepad,delete o[t.index]}));var p={},g=window.navigator.userAgent;-1!==g.indexOf("iPhone")&&-1!==g.indexOf("Safari")?(s=-1,p={0:"LStickLR",1:"LStickUD",2:"RStickLR",3:"RStickUD",4:"dPadLR",5:"dPadUD"}):-1!==g.indexOf("Chrome")&&-1!==g.indexOf("Windows")?(s=1,p=l):(-1!==g.indexOf("Chrome")&&g.indexOf("Linux"),s=1,p=l)},toggleSound(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!t().sound;e({sound:n}),ne($,1,!0),ne(q,.3,!0),ne(W,1,!0)},updateMouse(e){var n=e.clientX,a=e.clientY;t().mutation.mouse.set(n-window.innerWidth/2,a-window.innerHeight/2)},test(e){i.min.copy(e.offset),i.max.copy(e.offset),i.expandByScalar(e.size*e.scale),e.hit.set(1e4,1e4,1e4);var n=t().mutation.ray.intersectBox(i,e.hit);return e.distance=t().mutation.ray.origin.distanceTo(e.hit),n}}}})),Y=Object(u.a)(N,2),Q=Y[0],Z=Y[1];function ee(e,t,n,a,r){return new Array(e).fill().map((function(){var e=Math.random(),o=t.parameters.path.getPointAt(e);o.multiplyScalar(15);var i=o.clone().add(new s.Vector3(-n+Math.random()*n*2,-n+Math.random()*n*2,-n+Math.random()*n*2)),c=.1+Math.random();return{guid:K++,scale:"function"===typeof r?r():r,size:a,offset:i,pos:o,speed:c,radius:n,t:e,hit:new s.Vector3,distance:1e3}}))}function te(e,t){for(var n=[],a=.4,r=0;r<e;r++){a+=.003;var o=t.parameters.path.getPointAt(a);o.multiplyScalar(15);var i=a*t.tangents.length,c=Math.floor(i),l=t.parameters.path.getPointAt((a+1/t.parameters.path.getLength())%1).multiplyScalar(15),m=(new s.Matrix4).lookAt(o,l,t.binormals[c]);n.push([o.toArray(),m])}return n}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Z.getState().sound?(e.currentTime=0,e.volume=Math.max(t,1),e.loop=n,e.play()):e.pause()}var ae=Q;function re(){var e=Object(r.useRef)(),t=ae((function(e){return e.mutation})),n=t.particles,a=t.dummy;return Object(r.useEffect)((function(){n.forEach((function(t,n){var r=t.offset,o=t.scale;a.position.copy(r),a.scale.set(o,o,o),a.rotation.set(Math.sin(Math.random())*Math.PI,Math.sin(Math.random())*Math.PI,Math.cos(Math.random())*Math.PI),a.updateMatrix(),e.current.setMatrixAt(n,a.matrix)})),e.current.instanceMatrix.needsUpdate=!0}),[]),o.a.createElement("instancedMesh",{ref:e,args:[null,null,n.length],frustumCulled:!1},o.a.createElement("coneBufferGeometry",{attach:"geometry",args:[2,2,3]}),o.a.createElement("meshStandardMaterial",{attach:"material",color:"#606060"}))}var oe=n(9);function ie(){return ae((function(e){return e.enemies})).map((function(e,t){return o.a.createElement(se,{key:t,data:e})}))}(new s.Box3).setFromCenterAndSize(new s.Vector3(0,0,1),new s.Vector3(3,3,3));var ce=new s.MeshBasicMaterial({color:new s.Color("lightblue")}),se=o.a.memo((function(e){var t=e.data,n=ae((function(e){return e.mutation})).clock,a=Object(l.e)(oe.a,"/drone.gltf"),i=Object(r.useRef)();return Object(l.d)((function(){var e=Math.cos(n.getElapsedTime()/2*t.speed)*Math.PI;i.current.position.copy(t.offset),i.current.rotation.set(e,e,e)})),o.a.createElement("group",{ref:i,scale:[5,5,5]},o.a.createElement("mesh",{position:[0,0,50],rotation:[Math.PI/2,0,0],material:ce},o.a.createElement("cylinderBufferGeometry",{attach:"geometry",args:[.25,.25,100,4]})),o.a.createElement("mesh",{name:"Sphere_DroneGlowmat_0"},o.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},a.__$[7].geometry)),o.a.createElement("meshStandardMaterial",Object.assign({attach:"material"},a.__$[7].material,{name:"DroneGlowmat"}))),o.a.createElement("mesh",{name:"Sphere_Body_0",material:ce},o.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},a.__$[8].geometry)),o.a.createElement("meshStandardMaterial",Object.assign({attach:"material"},a.__$[8].material,{name:"Body"}))))}));function le(){var e=Object(l.e)(oe.a,"/rock.gltf");return ae((function(e){return e.rocks})).map((function(t){return o.a.createElement(me,{gltf:e,key:t.guid,data:t})}))}var me=o.a.memo((function(e){var t=e.gltf,n=e.data,a=Object(r.useRef)(),i=ae((function(e){return e.mutation})).clock;return Object(l.d)((function(){var e=Math.cos(i.getElapsedTime()/2*n.speed)*Math.PI;a.current.rotation.set(e,e,e)})),o.a.createElement("group",{ref:a,position:n.offset,scale:[n.scale,n.scale,n.scale]},o.a.createElement("object3D",{position:[-.016298329457640648,-.012838120572268963,.24073271453380585],rotation:[3.0093872578726644,.27444228385461117,-.22745113653772078],scale:[20,20,20]},o.a.createElement("mesh",null,o.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},t.__$[7].geometry)),o.a.createElement("meshStandardMaterial",Object.assign({attach:"material"},t.__$[7].material,{color:"white",roughness:1,metalness:1})))))}));function ue(e,t){return{ref:o.a.createRef(),color:e,data:new Array(20).fill().map((function(){return[new s.Vector3,new s.Vector3(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1).normalize().multiplyScalar(.75*t)]}))}}function fe(){return ae((function(e){return e.explosions})).map((function(e){var t=e.guid,n=e.offset,a=e.scale;return o.a.createElement(de,{key:t,position:n,scale:.75*a})}))}function de(e){var t=e.position,n=e.scale,i=Object(r.useRef)(),c=ae((function(e){return e.mutation})).dummy,s=Object(r.useMemo)((function(){return[ue("white",.8),ue("orange",.6)]}),[]);return Object(r.useEffect)((function(){ne(new Audio(a.mp3.explosion),.5)}),[]),Object(l.d)((function(){s.forEach((function(e,t){var n=e.data,a=i.current.children[t];n.forEach((function(e,t){var n=Object(u.a)(e,2),r=n[0],o=n[1];r.add(o),c.position.copy(r),c.updateMatrix(),a.setMatrixAt(t,c.matrix)})),a.material.opacity-=.025,a.instanceMatrix.needsUpdate=!0}))})),o.a.createElement("group",{ref:i,position:t,scale:[n,n,n]},s.map((function(e,t){var n=e.color,a=e.data;return o.a.createElement("instancedMesh",{key:t,args:[null,null,a.length],frustumCulled:!1},o.a.createElement("dodecahedronBufferGeometry",{attach:"geometry",args:[10,0]}),o.a.createElement("meshBasicMaterial",{attach:"material",color:n,transparent:!0,opacity:1,fog:!1}))})))}var he=new s.RingBufferGeometry(1,1.01,64),pe=new s.MeshBasicMaterial({color:new s.Color("lightgreen"),side:s.DoubleSide});function ge(){return ae((function(e){return e.mutation})).rings.map((function(e,t){var n=Object(u.a)(e,2),a=n[0],r=n[1],i=Math.sin(t/10)*Math.PI/2;return o.a.createElement("mesh",{key:t,position:a,scale:[30+5*t*i,30+5*t*i,30+5*t*i],onUpdate:function(e){return e.quaternion.setFromRotationMatrix(r)},geometry:he,material:pe})}))}function be(){var e=ae((function(e){return e.mutation})),t=e.scale,n=e.track;return o.a.createElement("mesh",{scale:[t,t,t],geometry:n},o.a.createElement("meshBasicMaterial",{attach:"material",color:"indianred"}))}var Ee=new s.BoxBufferGeometry(1,1,40),ye=new s.Color("lightgreen"),ve=new s.Color("hotpink"),xe=new s.MeshBasicMaterial({color:ye}),we=new s.MeshBasicMaterial({color:ve,fog:!1}),Me=new s.Vector3,Oe=new s.Vector3;function je(){var e=Object(l.e)(oe.a,"/ship.gltf"),t=ae((function(e){return e.mutation})),n=t.clock,a=t.mouse,i=t.ray,c=ae((function(e){return e.lasers})),s=Object(r.useRef)(),m=Object(r.useRef)(),u=Object(r.useRef)(),f=Object(r.useRef)(),d=Object(r.useRef)(),h=Object(r.useRef)();return Object(l.d)((function(){s.current.position.z=Math.sin(40*n.getElapsedTime())*Math.PI*.1,s.current.rotation.z+=.1*(a.x/500-s.current.rotation.z),s.current.rotation.x+=.1*(-a.y/1200-s.current.rotation.x),s.current.rotation.y+=.1*(-a.x/1200-s.current.rotation.y),s.current.position.x+=.1*(a.x/10-s.current.position.x),s.current.position.y+=.1*(25+-a.y/10-s.current.position.y),f.current.scale.x=1+Math.sin(200*n.getElapsedTime()),f.current.scale.y=1+Math.sin(200*n.getElapsedTime());for(var e=0;e<c.length;e++){m.current.children[e].position.z-=20}u.current.intensity+=.3*((c.length&&Date.now()-c[c.length-1]<100?20:0)-u.current.intensity),s.current.getWorldPosition(Me),s.current.getWorldDirection(Oe),i.origin.copy(Me),i.direction.copy(Oe.negate()),we.color=t.hits?ye:ve,d.current.visible=!t.hits,h.current.visible=!!t.hits})),o.a.createElement("group",{ref:s},o.a.createElement("group",{scale:[3.5,3.5,3.5]},o.a.createElement("group",{ref:d,position:[0,0,-300],name:"cross"},o.a.createElement("mesh",{renderOrder:1e3,material:we},o.a.createElement("boxBufferGeometry",{attach:"geometry",args:[20,2,2]})),o.a.createElement("mesh",{renderOrder:1e3,material:we},o.a.createElement("boxBufferGeometry",{attach:"geometry",args:[2,20,2]}))),o.a.createElement("group",{ref:h,position:[0,0,-300],name:"target"},o.a.createElement("mesh",{position:[0,20,0],renderOrder:1e3,material:we},o.a.createElement("boxBufferGeometry",{attach:"geometry",args:[40,2,2]})),o.a.createElement("mesh",{position:[0,-20,0],renderOrder:1e3,material:we},o.a.createElement("boxBufferGeometry",{attach:"geometry",args:[40,2,2]})),o.a.createElement("mesh",{position:[20,0,0],renderOrder:1e3,material:we},o.a.createElement("boxBufferGeometry",{attach:"geometry",args:[2,40,2]})),o.a.createElement("mesh",{position:[-20,0,0],renderOrder:1e3,material:we},o.a.createElement("boxBufferGeometry",{attach:"geometry",args:[2,40,2]}))),o.a.createElement("pointLight",{ref:u,position:[0,0,-20],distance:100,intensity:0,color:"lightgreen"}),o.a.createElement("group",{ref:m},c.map((function(e,t){return o.a.createElement("group",{key:t},o.a.createElement("mesh",{position:[-2.8,0,-.8],geometry:Ee,material:xe}),o.a.createElement("mesh",{position:[2.8,0,-.8],geometry:Ee,material:xe}))}))),o.a.createElement("group",{rotation:[Math.PI/2,Math.PI,0]},o.a.createElement("mesh",{name:"Renault_(S,_T1)_0"},o.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},e.__$[5].geometry)),o.a.createElement("meshStandardMaterial",{attach:"material",color:"#070707"})),o.a.createElement("mesh",{name:"Renault_(S,_T1)_1"},o.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},e.__$[6].geometry)),o.a.createElement("meshStandardMaterial",{attach:"material",color:"black"})),o.a.createElement("mesh",{name:"Renault_(S,_T1)_2"},o.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},e.__$[7].geometry)),o.a.createElement("meshStandardMaterial",{attach:"material",color:"#070707"})),o.a.createElement("mesh",{name:"Renault_(S,_T1)_3"},o.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},e.__$[8].geometry)),o.a.createElement("meshBasicMaterial",{attach:"material",color:"lightblue"})),o.a.createElement("mesh",{name:"Renault_(S,_T1)_4"},o.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},e.__$[9].geometry)),o.a.createElement("meshBasicMaterial",{attach:"material",color:"white"})),o.a.createElement("mesh",{name:"Renault_(S,_T1)_5"},o.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},e.__$[10].geometry)),o.a.createElement("meshBasicMaterial",{attach:"material",color:"teal"})))),o.a.createElement("mesh",{ref:f,scale:[1,1,30],position:[0,1,30]},o.a.createElement("dodecahedronBufferGeometry",{attach:"geometry",args:[1.5,0]}),o.a.createElement("meshBasicMaterial",{attach:"material",color:"lightblue"})))}var Se=0;function ke(e){var t=e.children,n=Object(r.useRef)(),a=Object(r.useRef)(),i=ae((function(e){return e.mutation})),c=i.fov,s=i.scale,m=i.binormal,u=i.normal,f=i.track,d=i.mouse,h=Object(l.f)().camera;return Object(l.d)((function(){var e=i.t,t=i.position.clone(),a=f.tangents.length,r=e*a,o=Math.floor(r),l=(o+1)%a;m.subVectors(f.binormals[l],f.binormals[o]),m.multiplyScalar(r-o).add(f.binormals[o]);var p=f.parameters.path.getTangentAt(e);Se+=.05*(Math.max(15,15+-d.y/20)-Se),u.copy(m).cross(p),t.add(u.clone().multiplyScalar(Se)),h.position.copy(t);var g=f.parameters.path.getPointAt((e+30/f.parameters.path.getLength())%1).multiplyScalar(s);h.matrix.lookAt(h.position,g,u),h.quaternion.setFromRotationMatrix(h.matrix),h.fov+=.05*((e>.4&&e<.45?120:c)-h.fov),h.updateProjectionMatrix();var b=f.parameters.path.getPointAt((e+1/f.parameters.path.getLength())%1).multiplyScalar(s);n.current.position.copy(b),n.current.quaternion.setFromRotationMatrix(h.matrix)})),o.a.createElement("group",{ref:n},o.a.createElement("pointLight",{distance:400,position:[0,100,-420],intensity:5,color:"indianred"}),o.a.createElement("group",{ref:a,position:[0,0,-50]},t))}var Re=n(7),_e=n(8);function Be(){var e=Object(Re.a)(["\n  * {\n    box-sizing: border-box;\n  }\n\n  html,\n  body,\n  #root {\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    user-select: none;\n    overflow: hidden;\n  }\n\n  #root {\n    overflow: auto;\n    padding: 0px;\n  }\n\n  body {\n    position: fixed;\n    overflow: hidden;\n    overscroll-behavior-y: none;\n    font-family: -apple-system, BlinkMacSystemFont, avenir next, avenir, helvetica neue, helvetica, ubuntu, roboto, noto, segoe ui, arial, sans-serif;\n    color: black;\n    background: white;\n  }\n"]);return Be=function(){return e},e}function Pe(){var e=Object(Re.a)(["\n  ","\n  bottom: 70px;\n  right: 50px;\n  transform: skew(5deg, 10deg);\n  height: 60px;\n  width: 200px;\n  background: black;\n  & > div {\n    height: 100%;\n    background: indianred;\n  }\n\n  @media only screen and (max-width: 900px) {\n    bottom: 50px;\n    height: 40px;\n    width: 150px;\n  }\n"]);return Pe=function(){return e},e}function Ge(){var e=Object(Re.a)(["\n  ","\n  bottom: 5px;\n  left: 50px;\n  transform: skew(-5deg, -10deg);\n  width: 200px;\n  & > h1 {\n    margin: 0;\n    font-size: 14em;\n    line-height: 1em;\n  }\n  & > h2 {\n    margin: 0;\n    font-size: 4em;\n    line-height: 1em;\n  }\n  @media only screen and (max-width: 900px) {\n    bottom: 30px;\n    & > h1 {\n      font-size: 6em !important;\n    }\n    & > h2 {\n      font-size: 3em !important;\n    }\n  }\n"]);return Ge=function(){return e},e}function Le(){var e=Object(Re.a)(["\n  ","\n  text-align: right;\n  top: 40px;\n  right: 50px;\n  font-size: 2em;\n  transform: skew(-5deg, -10deg);\n  pointer-events: all;\n  cursor: pointer;\n  & > a {\n    color: indianred;\n    text-decoration: none;\n  }\n  @media only screen and (max-width: 900px) {\n    font-size: 1.5em;\n  }\n"]);return Le=function(){return e},e}function Ae(){var e=Object(Re.a)(["\n  ","\n  top: 40px;\n  left: 50px;\n  font-size: 2em;\n  transform: skew(5deg, 10deg);\n  pointer-events: all;\n  cursor: pointer;\n  @media only screen and (max-width: 900px) {\n    font-size: 1.5em;\n  }\n"]);return Ae=function(){return e},e}function Te(){var e=Object(Re.a)(["\n  font-family: 'Teko', sans-serif;\n  position: absolute;\n  text-transform: uppercase;\n  font-weight: 900;\n  font-variant-numeric: slashed-zero tabular-nums;\n  line-height: 1em;\n  pointer-events: none;\n  color: indianred;\n"]);return Te=function(){return e},e}function De(){var e=ae((function(e){return e.points})),t=ae((function(e){return e.health})),n=ae((function(e){return e.sound})),a=ae((function(e){return e.actions.toggleSound})),i=Object(r.useRef)();Object(r.useEffect)((function(){var e=Date.now(),t=setInterval((function(){return i.current.innerText=((Date.now()-e)/1e3).toFixed(1)}),100);return function(){return clearInterval(t)}}),[]);var c=Object(r.useMemo)((function(){return e>=1e3?(e/1e3).toFixed(1)+"K":e}),[e]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ce,{onClick:function(){return a()}},"sound",o.a.createElement("br",null),n?"off":"on"),o.a.createElement(Ie,null,o.a.createElement("a",{href:"https://codesandbox.io/s/react-three-fiber-untitled-game-4pp5r"},"source"),o.a.createElement("br",null),o.a.createElement("a",{href:"https://twitter.com/0xca0a"},"twitter"),o.a.createElement("br",null),o.a.createElement("a",{href:"https://github.com/react-spring/react-three-fiber"},"github")),o.a.createElement(Fe,null,o.a.createElement("h2",{ref:i},"0.0"),o.a.createElement("h1",null,c)),o.a.createElement(Ve,null),o.a.createElement(Ue,null,o.a.createElement("div",{style:{width:t+"%"}})))}var ze=Object(_e.b)(Te()),Ce=_e.c.div(Ae(),ze),Ie=_e.c.div(Le(),ze),Fe=_e.c.div(Ge(),ze),Ue=_e.c.div(Pe(),ze),Ve=Object(_e.a)(Be());function $e(){var e=ae((function(e){return e.mutation})).fov,t=ae((function(e){return e.actions}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{concurrent:!0,gl:{antialias:!1},onPointerMove:t.updateMouse,onClick:t.shoot,camera:{position:[0,0,2e3],near:.01,far:1e4,fov:e},onCreated:(t.initializePS4ControllerSupport(),function(e){var n=e.gl,a=e.camera;t.init(a),n.gammaInput=!0,n.toneMapping=s.Uncharted2ToneMapping,n.setClearColor(new s.Color("#020209"))})},o.a.createElement("fog",{attach:"fog",args:["#070710",100,700]}),o.a.createElement("ambientLight",{intensity:.25}),o.a.createElement(m,null),o.a.createElement(fe,null),o.a.createElement(be,null),o.a.createElement(re,null),o.a.createElement(ge,null),o.a.createElement(r.Suspense,{fallback:null},o.a.createElement(le,null),o.a.createElement(g,null),o.a.createElement(ie,null),o.a.createElement(ke,null,o.a.createElement(je,null))),o.a.createElement(w,null)),o.a.createElement(De,null))}c.a.render(o.a.createElement($e,null),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.980129bf.chunk.js.map